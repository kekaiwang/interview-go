# 版本差异

[toc]

## mysql

### <= 5.6

- MySQL 5.5 及以前的版本，回滚日志是跟数据字典一起放在 ibdata 文件里的，即使长事务最终提交，回滚段被清理，文件也不会变小。

- MySQL 5.6 引入的索引下推优化。

- 每个 InnoDB 表数据存储在一个以 `.ibd` 为后缀的文件中,默认是开启状态

- MySQL 5.6 版本开始引入的 `Online DDL`

### 5.7 <

### 8.0

## redis

- 4.0 版本引入了 `unlink` 指令
- 4.0 给 `flushdb` 和 `flushall` 两个指令也带来了异步化，在指令后面增加 `async` 参数就可以将整棵大树连根拔起，扔给后台线程慢慢焚烧。
- 5.0 又引入了一个新的数据结构 listpack，它是对 ziplist 结构的改进，在存储空间上会更加节省，而且结构上也比 ziplist 要精简。

- 5.0 引入了 stream
- 4.0 里引入了一个新的淘汰策略 —— **LFU 模式**，作者认为它比 LRU 更加优秀。  
LFU 的全称是 `Least Frequently Used`，表示按最近的访问频率进行淘汰，它比 LRU 更加精准地表示了一个 key 被访问的热度。
